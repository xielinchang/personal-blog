"use strict";(self["webpackChunkvueforblog"]=self["webpackChunkvueforblog"]||[]).push([[879],{21879:function(n,e,t){t.r(e),t.d(e,{default:function(){return h}});var a=function(){var n=this,e=n._self._c;return e("div",{staticClass:"home"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.bgshadow,expression:"bgshadow"}],staticClass:"bg-shadow",attrs:{alt:""}}),e("div",{staticClass:"banner",on:{mouseenter:n.bannerIn,mouseleave:n.bannerOut}},[n._l(n.bannerList,(function(t,a){return e("div",{key:t.id,staticClass:"banner-mark",style:{opacity:a===n.bannerIndex?1:0,zIndex:a===n.bannerIndex?3:0}},[e("router-link",{attrs:{to:"/note/essay?id="+t.id}},[e("div",{staticClass:"mark-shadow"}),e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.coverUrl,expression:"item.coverUrl"}],staticClass:"mark"}),e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.coverUrl,expression:"item.coverUrl"}],style:{zIndex:a===n.bannerIndex?3:0},attrs:{alt:""}}),e("div",{staticClass:"banner-tit-box"},[e("div",{staticClass:"banner-title"},[n._v(n._s(t.title))]),e("div",{staticClass:"banner-line"}),e("div",{staticClass:"banner-subtitle"},[n._v(n._s(t.subtitle))])])])],1)})),e("div",{staticClass:"banner-btn left",on:{click:n.bannerPre}},[e("svg-icon",{staticClass:"banner-svg",attrs:{size:"25px",color:"#F39800","right-title":"上一页","icon-name":"left"}})],1),e("div",{staticClass:"banner-btn right",on:{click:n.bannerNext}},[e("svg-icon",{staticClass:"banner-svg",attrs:{size:"25px",color:"#00B753","left-title":"下一页","icon-name":"right"}})],1),e("ul",{staticClass:"banner-dot",staticStyle:{"z-index":"4"}},n._l(5,(function(t,a){return e("li",{key:a,style:{boxShadow:a===n.bannerIndex?"0 0 5px .1px #fff":""},on:{click:function(e){return n.bannerJump(a)}}})})),0)],2),e("div",{staticClass:"main"},[e("essayList",{staticClass:"essay-list"}),e("right-tab",{staticClass:"right-tab",attrs:{id:"right-tab",width:"23",height:"500"}})],1)])},s=[],i=(t(57658),t(77899)),r=t(68828),l=t(77639),b={name:"HomePage",data(){return{CurrentIndex:0,bgimg:"",mainimg:"",bgshadow:"",topShow:!0,bannerList:[],bannerIndex:0,bannerPause:null,bannerTime:4e3}},computed:{},async mounted(){this.initBg(),this.initBanner(),this.bannerTimer()},methods:{initBanner(){(0,r.Yv)({limit:999,offset:1,query:{title:void 0,domain:void 0,tags:void 0}}).then((n=>{var e=n.data.rows,t=(0,l.S)(e);t.forEach(((n,e)=>{e<5&&(n.coverUrl="http://116.62.179.162:7001"+n.coverUrl,this.bannerList.push(n))}))}))},initBg(){(0,i.bh)().then((n=>{this.bgshadow="http://116.62.179.162:7001"+n.data[0].url}))},bannerPre(){0===this.bannerIndex?this.bannerIndex=this.bannerList.length-1:this.bannerIndex--},bannerNext(){this.bannerIndex===this.bannerList.length-1?this.bannerIndex=0:this.bannerIndex++},bannerTimer(){var n=this;this.bannerPause=setInterval((()=>{n.bannerNext()}),this.bannerTime)},bannerIn(){clearInterval(this.bannerPause)},bannerOut(){this.bannerTimer()},bannerJump(n){this.bannerIndex=n}}},o=b,c=t(1001),d=(0,c.Z)(o,a,s,!1,null,"eec6ca90",null),h=d.exports}}]);