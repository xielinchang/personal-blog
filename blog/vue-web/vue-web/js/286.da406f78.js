"use strict";(self["webpackChunkvueforblog"]=self["webpackChunkvueforblog"]||[]).push([[286],{23286:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",[e("TemplatePage"),e("my-loading",{attrs:{"load-show":t.loading,"icon-top":"400"}},[e("div",{staticClass:"project"},[e("div",{staticClass:"project-top"},[e("div",{staticClass:"banner"},[e("div",{staticClass:"baner-mark"},[e("div",{staticClass:"mark",style:{backgroundImage:`url(${t.prefix+t.projectForm.coverUrl})`}}),e("div",{staticClass:"shadow-mark"}),e("div",{staticClass:"banner-img",style:{backgroundImage:`url(${t.prefix+t.projectForm.coverUrl})`}})])]),e("div",{staticClass:"title block"},[e("div",{staticClass:"label"},[t._v(" 项目名称: ")]),e("span",[t._v(" "+t._s(t.projectForm.title)+" ")])]),e("div",{staticClass:"link block"},[e("div",{staticClass:"label"},[t._v(" 相关链接: ")]),e("my-textarea",{attrs:{width:500,"is-resize":!1,height:100,"border-width":"0",disabled:""},model:{value:t.projectForm.link,callback:function(e){t.$set(t.projectForm,"link",e)},expression:"projectForm.link"}})],1)]),e("div",{staticClass:"project-content block"},[e("div",{staticClass:"label"},[t._v("项目介绍")]),e("div",{domProps:{innerHTML:t._s(t.projectForm.html)}})])]),e("div",{staticClass:"icon-buttons"},[e("router-link",{attrs:{to:"/control/project/writing?id="+t.$route.query.id}},[t.hasPermi?e("icon-button",{staticClass:"icon-button",attrs:{icon:"edit","left-title":"编辑"}}):t._e()],1),e("icon-button",{staticClass:"icon-button",attrs:{icon:"left","left-title":"上一篇"},nativeOn:{click:function(e){return t.preProject()}}}),e("icon-button",{staticClass:"icon-button",attrs:{icon:"right","left-title":"下一篇"},nativeOn:{click:function(e){return t.nextProject()}}})],1)])],1)},o=[],s=(i(57658),i(39253)),n=i(46651),a={name:"ProjectPage",data(){return{projectForm:{},loading:!1,prefix:"http://116.62.179.162:7001"}},computed:{hasPermi(){return s.Z.state.hasPermi}},watch:{"$route.query":{handler(t,e){this.initProject()},deep:!0}},mounted(){this.initProject()},methods:{initProject(){(0,n.wJ)({limit:1,offset:1,query:{id:this.$route.query.id}}).then((t=>{console.log(t),this.projectForm=t.data.rows[0]}))},preProject(){this.changeProject("pre")},nextProject(){this.changeProject("next")},changeProject(t){(0,n.wJ)({limit:999,offset:1,query:{id:void 0,title:void 0,html:void 0}}).then((e=>{const i=e.data.rows,r=i.findIndex((t=>1*t.id===1*this.$route.query.id));1*r===i.length-1&&"next"===t?this.$msg({content:"已经是最后一篇了",type:"info"}):1*r===0&&"pre"===t?this.$msg({content:"已经是第一篇了",type:"info"}):"next"===t?this.$router.push("/note/Project?id="+i[r+1].id):"pre"===t&&this.$router.push("/note/Project?id="+i[r-1].id)}))}}},c=a,l=i(1001),d=(0,l.Z)(c,r,o,!1,null,"48ae0804",null),u=d.exports},46651:function(t,e,i){i.d(e,{wJ:function(){return o}});var r=i(77736);function o(t){return(0,r.Z)({url:"/project/query/state",method:"post",data:t})}}}]);